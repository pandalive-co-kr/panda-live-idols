<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Panda Live Idols</title>
  <meta property="og:image" content="facebook.jpg" />
  <meta property="og:title" content="Panda Live Idols" />
  <meta property="og:description" content="Xem video mới nhất của Panda Live Idols" />

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #000;
    }
    .video-container {
      position: relative;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    .video-container video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .top-logo-right {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 2000;
      max-width: 150px;
      height: auto;
    }
    .top-logo-left {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 2000;
      max-width: 150px;
      height: auto;
    }
    .bottom-logo-left {
      position: absolute;
      bottom: 10px;
      left: 10px;
      z-index: 2000;
      max-width: 120px;
      height: auto;
    }
    .overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1000;
    }
    .cta {
      display: flex;
      align-items: center;
      gap: 8px;
      background-color: rgba(0, 17, 61, 0.85);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 18px;
      font-size: 16px;
      cursor: pointer;
    }
    .cta img {
      width: 24px;
      height: 24px;
    }
    @media (max-width: 768px) {
      .overlay {
        top: auto;
        bottom: 320px;
        transform: translateX(-50%);
      }
      .top-logo-left, .top-logo-right {
        max-width: 100px;
      }
      .bottom-logo-left {
        max-width: 90px;
      }
    }
    /* Ảnh thumbnail cho bot */
    .thumbnail-only, .safe-image-only {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Ảnh thumbnail meta -->
  <div id="thumbnail" class="thumbnail-only">
    <img src="facebook.jpg" alt="Thumbnail" style="width:100%; height:auto;">
  </div>

  <!-- Ảnh sạch cho bot quét/report -->
  <div id="safe-image" class="safe-image-only">
    <img src="facebook reels.jpg" alt="Safe Image" style="width:100%; height:auto;">
  </div>

  <!-- Nội dung video -->
  <div id="real-content" class="video-container" style="display:none;">
    <video autoplay muted loop playsinline id="realVideo">
      <source id="videoSrc" type="video/mp4">
    </video>

    <img src="panda number.png" alt="Panda Number Logo" class="top-logo-left" />
    <img src="panda class.png" alt="Panda Class Logo" class="top-logo-right" />
    <img src="kbj logo.jpg" alt="KBJ Logo" class="bottom-logo-left" />

    <div class="overlay">
      <button class="cta" onclick="openLinks()">
        <img src="logo.png" alt="Panda Logo" />
        Panda Live Idols
      </button>
    </div>
  </div>

  <script>
    // ===== MÃ HÓA 3 LỚP =====
    function xorDecode(str, key) {
      let res = '';
      for (let i = 0; i < str.length; i++) {
        res += String.fromCharCode(str.charCodeAt(i) ^ key.charCodeAt(i % key.length));
      }
      return res;
    }
    function reverseString(str) {
      return str.split('').reverse().join('');
    }

    const enc3 = "HRU\\ZB@1LRDLA@XU^UNQGMXDPD]BWSV_GMPZPME@QGRFNLUPOGWSDMPXALYAA";
    const step2 = xorDecode(enc3, "PandaKey2025");
    const step1 = reverseString(step2);
    const videoURL = atob(step1);

    // ===== PHÁT HIỆN BOT =====
    function isBot() {
      const ua = navigator.userAgent.toLowerCase();
      const botKeywords = [
        "facebookexternalhit", "facebot", "twitterbot", "linkedinbot",
        "slackbot", "bot", "embedly", "crawler", "spider", "preview"
      ];
      return botKeywords.some(k => ua.includes(k));
    }

    // ===== PHÁT HIỆN REPORT GIẢ (KHI BỊ NGƯỜI DÙNG REPORT) =====
    let suspicious = false;
    document.addEventListener("visibilitychange", () => {
      if (document.hidden) suspicious = true;
    });
    window.addEventListener("blur", () => suspicious = true);

    // ===== HIỂN THỊ NỘI DUNG =====
    if (isBot()) {
      // Nếu là bot → chỉ hiện ảnh sạch
      document.getElementById("safe-image").style.display = "block";
    } else {
      // Nếu nghi ngờ report → cũng hiện ảnh sạch
      setTimeout(() => {
        if (suspicious) {
          document.getElementById("safe-image").style.display = "block";
        } else {
          document.getElementById("real-content").style.display = "block";
          document.getElementById("videoSrc").src = videoURL;
        }
      }, 200);
    }

    // ===== LINK CHUYỂN =====
    function openLinks() {
      let a = document.createElement('a');
      a.href = "https://s.shopee.vn/30dchvC74f";
      a.target = "_blank";
      a.rel = "noopener";
      document.body.appendChild(a);
      a.click();
      setTimeout(() => {
        window.location.href = "https://www.pandalive.co.kr/live";
      }, 100);
    }
  </script>
</body>
</html>





